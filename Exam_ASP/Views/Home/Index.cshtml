@model IEnumerable<Book>
@{
    ViewData["Title"] = "Index";
    int cur = 0;
    List<int> list = ViewBag.CommentsCount as List<int>;
    int count = Model.Count();
}

<h3>Books</h3>

<div style="">
    @await Component.InvokeAsync("GenreMenu")
</div>
<hr />
<div class=" row">
    <h1>Count: @count</h1>
    @foreach (Book book in Model)
    {
        <div class="col-sm-4">
            <div class="thumbnail">
                <div class="caption text-center" onclick="location.href='https://flow.microsoft.com/en-us/connectors/shared_slack/slack/'">
                    <div class="position-relative">
                        <img src="@book.ImagePath" style="height:200px;" />
                    </div>
                    <h2 id="thumbnail-label">@book.Name</h2>
                    <h4>@ViewBag.Genres[cur]</h4>
                    <p><i class="glyphicon glyphicon-user light-red lighter bigger-120"></i>&nbsp;@ViewBag.AuthorNames[cur++]</p>
                    <h3 class="thumbnail-description smaller">@book.Description</h3>
                </div>
                <div class="caption card-footer text-center">
                    <ul class="list-inline">
                        <li><i class="people"></i>&nbsp;Year: @book.Year</li>
                        <li></li>
                        <li><a asp-action="Info" asp-route-id="@book.ID" class="btn btn-primary"><i class="glyphicon glyphicon-plus lighter"></i> More</a></li>
                    </ul>
                </div>
            </div>
        </div>
    }
</div>



